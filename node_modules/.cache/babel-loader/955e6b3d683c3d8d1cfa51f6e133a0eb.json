{"ast":null,"code":"import _slicedToArray from\"C:/graduation_work/GraduationWork_FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import axios from\"axios\";import'../assets/styles/all.css';import'../assets/styles/writing.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WritingUpdate=function WritingUpdate(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newName=_useState2[0],setNewName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPw=_useState4[0],setNewPw=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newTitle=_useState6[0],setNewTitle=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),newContent=_useState8[0],setNewContent=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),newBoardList=_useState10[0],setNewBoardList=_useState10[1];var idx=useParams().id;useEffect(function(){axios.get(\"http://localhost:3001/update/\".concat(idx)).then(function(response){setNewBoardList(response.data);});},[]);var updateBoard=function updateBoard(idx){axios.put(\"http://localhost:3001/update/\".concat(idx),{id:idx,name:newName,pw:newPw,title:newTitle,content:newContent});setNewName(\"\");setNewPw(\"\");setNewTitle(\"\");setNewContent(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:newBoardList.map(function(value,key){return/*#__PURE__*/_jsx(\"form\",{className:\"writing\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"writing_start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\uBC29\\uBA85\\uB85D \\uC218\\uC815\\uD558\\uAE30\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"writing_nickname\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uB2C9\\uB124\\uC784 :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:value.name,onChange:function onChange(e){setNewName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"writing_password\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pw\",placeholder:value.pw,onChange:function onChange(e){setNewPw(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"writing_title\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC81C\\uBAA9 :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:value.title,onChange:function onChange(e){setNewTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"writing_content\",children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",placeholder:value.content,onChange:function onChange(e){setNewContent(e.target.value);}}),/*#__PURE__*/_jsx(Link,{to:\"/guestbook\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{type:\"input\",className:\"registration_btn\",onClick:function onClick(){updateBoard(value.id);},children:\"\\uB4F1\\uB85D\\uD558\\uAE30\"})})]})]})},key);})});};export default WritingUpdate;","map":{"version":3,"sources":["C:/graduation_work/GraduationWork_FrontEnd/src/pages/writing_update/index.js"],"names":["React","useState","useEffect","Link","useParams","axios","WritingUpdate","props","newName","setNewName","newPw","setNewPw","newTitle","setNewTitle","newContent","setNewContent","newBoardList","setNewBoardList","idx","id","get","then","response","data","updateBoard","put","name","pw","title","content","map","value","key","e","target","textDecoration"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport '../assets/styles/all.css';\r\nimport '../assets/styles/writing.css';\r\n\r\nconst WritingUpdate = (props) => {\r\n    const [newName, setNewName] = useState('');\r\n    const [newPw, setNewPw] = useState('');\r\n    const [newTitle, setNewTitle] = useState('');\r\n    const [newContent, setNewContent] = useState('');\r\n    const [newBoardList, setNewBoardList] = useState([]);\r\n\r\n    const idx = useParams().id;\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:3001/update/${idx}`).then((response) => {\r\n            setNewBoardList(response.data);\r\n        })\r\n    }, []);\r\n\r\n    const updateBoard = (idx) => {\r\n        axios.put(`http://localhost:3001/update/${idx}`, {\r\n            id:idx,\r\n            name:newName,\r\n            pw:newPw,\r\n            title:newTitle,\r\n            content:newContent\r\n        });\r\n        setNewName(\"\");\r\n        setNewPw(\"\");\r\n        setNewTitle(\"\");\r\n        setNewContent(\"\");\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {newBoardList.map((value, key) => {\r\n                return(\r\n                    <form className=\"writing\" key={key}>\r\n                        <article className=\"writing_start\">\r\n                            <div className=\"title\">\r\n                                <h1>방명록 수정하기</h1>\r\n                            </div>\r\n                            <div className=\"writing_nickname\">\r\n                                <h5>닉네임 :</h5>\r\n                                <input type=\"text\" name=\"name\" placeholder={value.name} onChange={(e) => {setNewName(e.target.value)}}></input>\r\n                            </div>\r\n                            <div className=\"writing_password\">\r\n                                <h5>비밀번호 :</h5>\r\n                                <input type=\"text\" name=\"pw\" placeholder={value.pw} onChange={(e) => {setNewPw(e.target.value)}}></input>\r\n                            </div>\r\n                            <div className=\"writing_title\">\r\n                                <h5>제목 :</h5>\r\n                                <input type=\"text\" name=\"title\" placeholder={value.title} onChange={(e) => {setNewTitle(e.target.value)}}></input>\r\n                            </div>\r\n                            <div className=\"writing_content\">\r\n                                <textarea name=\"content\" placeholder={value.content} onChange={(e) => {setNewContent(e.target.value)}}></textarea>\r\n                                <Link to={\"/guestbook\"} style={{textDecoration:'none'}}><button type=\"input\" className=\"registration_btn\" onClick={() => {updateBoard(value.id)}}>등록하기</button></Link>\r\n                            </div>\r\n                        </article>\r\n                    </form>\r\n                )\r\n            })\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default WritingUpdate;"]},"metadata":{},"sourceType":"module"}