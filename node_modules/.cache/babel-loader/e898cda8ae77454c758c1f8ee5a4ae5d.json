{"ast":null,"code":"var _jsxFileName = \"C:\\\\graduation_work\\\\graduation_work\\\\src\\\\pages\\\\deletePasswordModal\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport '../assets/styles/passwordModal.css';\nimport CloseButton from '../deletePasswordModal/closeButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DeletePasswordModal = ({\n  className,\n  onClose,\n  maskClosable,\n  closable,\n  visible,\n  children\n}) => {\n  _s();\n\n  const [boardList, setBoardList] = useState([]);\n  const [deletePassword, setDeletePassword] = useState('');\n\n  const deleteBoard = idx => {\n    axios.delete(`http://localhost:3001/delete`, {\n      id: idx,\n      pw: deletePassword\n    });\n    setDeletePassword(\"\");\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/guestbook').then(response => {\n      setBoardList(response.data);\n    });\n  }, []);\n\n  const onMaskClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose(e);\n    }\n  };\n\n  const close = e => {\n    if (onClose) {\n      onClose(e);\n    }\n  };\n\n  useEffect(() => {\n    document.body.style.cssText = `position: fixed; top: -${window.scrollY}px`;\n    return () => {\n      const scrollY = document.body.style.top;\n      document.body.style.cssText = `position: \"\"; top: \"\";`;\n      window.scrollTo(0, parseInt(scrollY || '0') * -1);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: boardList.map((value, key) => {\n      /*#__PURE__*/\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {\n          visible: visible\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalWrapper, {\n          className: className,\n          onClick: maskClosable ? onMaskClick : null,\n          tabIndex: \"-1\",\n          visible: visible,\n          children: /*#__PURE__*/_jsxDEV(ModalInner, {\n            tabIndex: \"0\",\n            className: \"modal-inner\",\n            children: [\"\\uBE44\\uBC00\\uBC88\\uD638 :\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"passwordInput\",\n              onChange: e => {\n                setDeletePassword(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"input\",\n              className: \"inputBtn\",\n              onClick: () => {\n                deleteBoard(value.id);\n              },\n              children: \"\\uC785\\uB825\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), closable && /*#__PURE__*/_jsxDEV(CloseButton, {\n              className: \"modal-close\",\n              onClick: close\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 42\n            }, this), children]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true);\n    })\n  }, void 0, false);\n};\n\n_s(DeletePasswordModal, \"KFBn9Y/vusoNk+L35W+nRNo12V4=\");\n\n_c = DeletePasswordModal;\nPasswordModal.defaultProps = {\n  closable: true,\n  maskClosable: true,\n  visible: false\n};\nPasswordModal.propTypes = {\n  visible: PropTypes.bool\n};\nconst ModalWrapper = styled.div`\nbox-sizing : border-box;\ndisplay: ${props => props.visible ? 'block' : 'none'};\nposition: fixed;\ntop: 0;\nright: 0;\nbottom: 0;\nleft: 0;\nz-index: 1000;\noverflow: auto;\noutline: 0;\n`;\n_c2 = ModalWrapper;\nconst ModalOverlay = styled.div`\nbox-sizing: border-box;\ndisplay: ${props => props.visible ? 'block' : 'none'};\nposition: fixed;\ntop: 0;\nleft: 0;\nbottom: 0;\nright: 0;\nbackground-color: rgba(0, 0, 0, 0.6);\nz-index: 999;\n`;\n_c3 = ModalOverlay;\nconst ModalInner = styled.div`\nbox-sizing : border-box;\nposition: relative;\nbox-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5);\nbackground-color: #83A0D2;\ncolor:#fff;\nborder-radius: 10px;\nwidth: 360px;\nmax-width: 480px;\ntop: 50%;\ntransform: translateY(-50%);\nmargin: 0 auto;\npadding: 40px 20px;\n`;\n_c4 = ModalInner;\nexport default DeletePasswordModal;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"DeletePasswordModal\");\n$RefreshReg$(_c2, \"ModalWrapper\");\n$RefreshReg$(_c3, \"ModalOverlay\");\n$RefreshReg$(_c4, \"ModalInner\");","map":{"version":3,"sources":["C:/graduation_work/graduation_work/src/pages/deletePasswordModal/index.js"],"names":["React","useEffect","PropTypes","styled","CloseButton","DeletePasswordModal","className","onClose","maskClosable","closable","visible","children","boardList","setBoardList","useState","deletePassword","setDeletePassword","deleteBoard","idx","axios","delete","id","pw","get","then","response","data","onMaskClick","e","target","currentTarget","close","document","body","style","cssText","window","scrollY","top","scrollTo","parseInt","map","value","key","PasswordModal","defaultProps","propTypes","bool","ModalWrapper","div","props","ModalOverlay","ModalInner"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport '../assets/styles/passwordModal.css';\r\nimport CloseButton from '../deletePasswordModal/closeButton';\r\n\r\nconst DeletePasswordModal = ({className, onClose, maskClosable, closable, visible, children}) => {\r\n    const [boardList, setBoardList] = useState([]);\r\n    const [deletePassword, setDeletePassword] = useState('');\r\n\r\n    const deleteBoard = (idx) => {\r\n        axios.delete(`http://localhost:3001/delete`,{id:idx, pw:deletePassword});\r\n        setDeletePassword(\"\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3001/guestbook').then((response) => {\r\n            setBoardList(response.data);\r\n        })\r\n    }, []);\r\n\r\n    const onMaskClick = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose(e)\r\n        }\r\n    }\r\n\r\n    const close = (e) => {\r\n        if (onClose) {\r\n            onClose(e)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.body.style.cssText = `position: fixed; top: -${window.scrollY}px`\r\n        return () => {\r\n          const scrollY = document.body.style.top\r\n          document.body.style.cssText = `position: \"\"; top: \"\";`\r\n          window.scrollTo(0, parseInt(scrollY || '0') * -1)\r\n        }\r\n      }, [])\r\n    \r\n    return(\r\n        <>\r\n            {boardList.map((value, key) => {\r\n                <>\r\n                    <ModalOverlay visible={visible} key={key}/>\r\n                    <ModalWrapper\r\n                    className={className}\r\n                    onClick={maskClosable ? onMaskClick : null}\r\n                    tabIndex=\"-1\"\r\n                    visible={visible}>\r\n                        <ModalInner tabIndex=\"0\" className=\"modal-inner\">\r\n                            비밀번호 :<input type=\"password\" className=\"passwordInput\" onChange={(e) => {setDeletePassword(e.target.value)}}></input>\r\n                            <button type=\"input\" className=\"inputBtn\" onClick={()=>{deleteBoard(value.id)}}>입력</button>\r\n                            {closable && <CloseButton className=\"modal-close\" onClick={close} />}\r\n                            {children}\r\n                        </ModalInner>\r\n                    </ModalWrapper>\r\n                </>\r\n            })\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nPasswordModal.defaultProps = {\r\n    closable: true,\r\n    maskClosable: true,\r\n    visible : false\r\n}\r\n\r\nPasswordModal.propTypes = {\r\n    visible : PropTypes.bool,\r\n}\r\n\r\nconst ModalWrapper = styled.div`\r\nbox-sizing : border-box;\r\ndisplay: ${(props) => (props.visible ? 'block' : 'none')};\r\nposition: fixed;\r\ntop: 0;\r\nright: 0;\r\nbottom: 0;\r\nleft: 0;\r\nz-index: 1000;\r\noverflow: auto;\r\noutline: 0;\r\n`\r\n\r\nconst ModalOverlay = styled.div`\r\nbox-sizing: border-box;\r\ndisplay: ${(props) => (props.visible ? 'block' : 'none')};\r\nposition: fixed;\r\ntop: 0;\r\nleft: 0;\r\nbottom: 0;\r\nright: 0;\r\nbackground-color: rgba(0, 0, 0, 0.6);\r\nz-index: 999;\r\n`\r\n\r\nconst ModalInner = styled.div`\r\nbox-sizing : border-box;\r\nposition: relative;\r\nbox-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5);\r\nbackground-color: #83A0D2;\r\ncolor:#fff;\r\nborder-radius: 10px;\r\nwidth: 360px;\r\nmax-width: 480px;\r\ntop: 50%;\r\ntransform: translateY(-50%);\r\nmargin: 0 auto;\r\npadding: 40px 20px;\r\n`\r\n\r\nexport default DeletePasswordModal;"]},"metadata":{},"sourceType":"module"}