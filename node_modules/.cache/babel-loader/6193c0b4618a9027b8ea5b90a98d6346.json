{"ast":null,"code":"import _slicedToArray from\"C:/graduation_work/GraduationWork_FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import'bootstrap/dist/css/bootstrap.min.css';import'../assets/styles/all.css';import'../assets/styles/guestbook.css';import{Table,CardHeader}from\"reactstrap\";import{Row,Container}from\"react-bootstrap\";import{Link,useParams}from\"react-router-dom\";import axios from'axios';import Pagination from'@mui/material/Pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var GuestBook=function GuestBook(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),boardList=_useState2[0],setBoardList=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(8),_useState6=_slicedToArray(_useState5,1),postsPerPage=_useState6[0];useEffect(function(){axios.post('http://localhost:3001/guestbook').then(function(response){setBoardList(response.data);});},[]);var readBoard=function readBoard(idx){axios.get(\"http://localhost:3001/read/\".concat(idx));};var handleChange=function handleChange(event,value){setCurrentPage(value);};var indexOfLastPost=currentPage*postsPerPage;// 마지막 guestbook의 index 번호\nvar indexOfFirstPost=indexOfLastPost-postsPerPage;// 첫번째 guestbook의 index 번호\nvar currentPosts=boardList.slice(indexOfFirstPost,indexOfLastPost);//각 페이지에서 보여질 포스트 배열\nvar pageNumber=Math.ceil(boardList.length/postsPerPage);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{className:\"guestbook mt-5 mb-5\",children:/*#__PURE__*/_jsx(CardHeader,{className:\"guestbook_card\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uBC29\\uBA85\\uB85D\"}),/*#__PURE__*/_jsxs(Table,{className:\"guestbook_table mt-5\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table_head_name\",children:\"\\uB2C9\\uB124\\uC784\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table_head_title\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table_head_date\",children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table_head_hit\",children:\"\\uC870\\uD68C\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table_head_modify\",children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table_head_delete\",children:\"\\uC0AD\\uC81C\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[currentPosts.map(function(value,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table_body_name\",children:value.name}),/*#__PURE__*/_jsx(Link,{to:{pathname:\"/read/\".concat(value.id)},style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"td\",{className:\"table_body_title\",onClick:function onClick(){readBoard(value.id);},children:value.title})}),/*#__PURE__*/_jsx(\"td\",{className:\"table_body_date\",children:value.date}),/*#__PURE__*/_jsx(\"td\",{className:\"table_body_hit\",children:value.hit}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/updatepasswordcheck/\".concat(value.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"table_button_modify\",children:\"\\uC218\\uC815\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/deletepasswordcheck/\".concat(value.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"table_button_delete\",children:\"\\uC0AD\\uC81C\"})})})]},key);}),/*#__PURE__*/_jsxs(\"tr\",{className:\"table_bottom\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"table_body\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table_body\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table_body\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table_body\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table_body\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/writing\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{className:\"write_button\",children:\"\\uAE00\\uC4F0\\uAE30\"})})})]})]})]}),/*#__PURE__*/_jsx(Pagination,{className:\"pagination\",count:pageNumber,defaultpage:indexOfFirstPost,page:currentPage,onChange:handleChange,color:\"primary\"})]})})})});};export default GuestBook;","map":{"version":3,"sources":["C:/graduation_work/GraduationWork_FrontEnd/src/pages/guestBook/index.js"],"names":["React","useEffect","useState","Table","CardHeader","Row","Container","Link","useParams","axios","Pagination","GuestBook","boardList","setBoardList","currentPage","setCurrentPage","postsPerPage","post","then","response","data","readBoard","idx","get","handleChange","event","value","indexOfLastPost","indexOfFirstPost","currentPosts","slice","pageNumber","Math","ceil","length","map","key","name","pathname","id","textDecoration","title","date","hit"],"mappings":"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","sourcesContent":["import React , {useEffect, useState} from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../assets/styles/all.css';\r\nimport '../assets/styles/guestbook.css';\r\nimport { Table, CardHeader } from \"reactstrap\";\r\nimport { Row, Container } from \"react-bootstrap\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Pagination from '@mui/material/Pagination';\r\n\r\nconst GuestBook = () => {\r\n    const [boardList, setBoardList] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [postsPerPage] = useState(8);\r\n\r\n    useEffect(() => {\r\n        axios.post('http://localhost:3001/guestbook').then((response) => {\r\n            setBoardList(response.data);\r\n        })\r\n    }, []);\r\n\r\n    const readBoard = (idx) => {\r\n        axios.get(`http://localhost:3001/read/${idx}`);\r\n    }\r\n\r\n    const handleChange=(event, value) => {\r\n        setCurrentPage(value);\r\n    }\r\n\r\n    const indexOfLastPost = currentPage * postsPerPage; // 마지막 guestbook의 index 번호\r\n    const indexOfFirstPost = indexOfLastPost - postsPerPage; // 첫번째 guestbook의 index 번호\r\n    const currentPosts = boardList.slice(indexOfFirstPost, indexOfLastPost); //각 페이지에서 보여질 포스트 배열\r\n    const pageNumber = Math.ceil(boardList.length/postsPerPage);\r\n    \r\n    return(\r\n        <>\r\n            <Container className=\"guestbook mt-5 mb-5\">\r\n                <CardHeader className=\"guestbook_card\">\r\n                    <Row>\r\n                        <h1>방명록</h1>\r\n                        <Table className=\"guestbook_table mt-5\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th className=\"table_head_name\">닉네임</th>\r\n                                    <th className=\"table_head_title\">제목</th>\r\n                                    <th className=\"table_head_date\">작성일</th>\r\n                                    <th className=\"table_head_hit\">조회수</th>\r\n                                    <th className=\"table_head_modify\">수정</th>\r\n                                    <th className=\"table_head_delete\">삭제</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                    {currentPosts.map((value, key) => {\r\n                                        return(\r\n                                            <tr key={key}>\r\n                                                <th className=\"table_body_name\">{value.name}</th>\r\n                                                <Link to={{ pathname: `/read/${value.id}`}} style={{textDecoration:'none'}}><td className=\"table_body_title\" onClick={()=> {readBoard(value.id)}}>{value.title}</td></Link>\r\n                                                <td className=\"table_body_date\">{value.date}</td>\r\n                                                <td className=\"table_body_hit\">{value.hit}</td>\r\n                                                <td>\r\n                                                    <Link to={`/updatepasswordcheck/${value.id}`}><button className=\"table_button_modify\">수정</button></Link>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <Link to={`/deletepasswordcheck/${value.id}`}><button className=\"table_button_delete\">삭제</button></Link>\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                <tr className=\"table_bottom\">\r\n                                    <th className=\"table_body\"></th>\r\n                                    <td className=\"table_body\"></td>\r\n                                    <td className=\"table_body\"></td>\r\n                                    <td className=\"table_body\"></td>\r\n                                    <td className=\"table_body\"></td>\r\n                                    <td><Link to={\"/writing\"} style={{textDecoration:'none'}}><button className=\"write_button\">글쓰기</button></Link></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </Table>\r\n                        <Pagination className=\"pagination\" count={pageNumber} defaultpage={indexOfFirstPost} page={currentPage} onChange={handleChange} color=\"primary\" />\r\n                    </Row> \r\n                </CardHeader>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestBook;"]},"metadata":{},"sourceType":"module"}